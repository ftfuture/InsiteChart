# Development override configuration
# Automatically used by Docker Compose in development

version: '3.8'

services:
  # Enable volume mounts for hot reload
  backend:
    volumes:
      - ./backend:/app/backend
    environment:
      DEBUG: "true"
      RELOAD: "true"

  data-collector:
    volumes:
      - ./services/data-collector-service:/app
    environment:
      DEBUG: "true"

  analytics:
    volumes:
      - ./services/analytics-service:/app
    environment:
      DEBUG: "true"

  gateway:
    volumes:
      - ./services/api-gateway:/app
    environment:
      DEBUG: "true"

  frontend:
    volumes:
      - ./frontend:/app
    environment:
      DEBUG: "true"

  # PostgreSQL with easier debugging
  postgres:
    environment:
      POSTGRES_INITDB_ARGS: "-c shared_preload_libraries=pg_stat_statements"

  # Redis with easier debugging
  redis:
    command: redis-server --requirepass ${REDIS_PASSWORD:-redis_password} --loglevel debug
