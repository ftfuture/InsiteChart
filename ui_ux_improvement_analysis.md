# ì‚¬ìš©ì ê²½í—˜ ë° UI/UX ê°œì„  ì˜ì—­ ë¶„ì„

## 1. ë¶„ì„ ê°œìš”

ë³¸ ë¬¸ì„œëŠ” InsiteChart í”„ë¡œì íŠ¸ì˜ í˜„ì¬ ì‚¬ìš©ì ê²½í—˜(UX)ê³¼ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤(UI)ë¥¼ ì‹¬ì¸µì ìœ¼ë¡œ ë¶„ì„í•˜ì—¬, ê°œì„ ì´ í•„ìš”í•œ ì˜ì—­ì„ ì‹ë³„í•˜ê³  êµ¬ì²´ì ì¸ í–¥ìƒ ë°©ì•ˆì„ ì œì‹œí•©ë‹ˆë‹¤. ì¶”ê°€ ê¸°ëŠ¥ ì—†ì´ í˜„ì¬ êµ¬í˜„ì˜ ì‚¬ìš©ì„±ê³¼ ì ‘ê·¼ì„±ì„ í–¥ìƒì‹œí‚¤ëŠ” ë° ì¤‘ì ì„ ë‘¡ë‹ˆë‹¤.

## 2. í˜„ì¬ UI/UX ìƒíƒœ ë¶„ì„

### 2.1 Streamlit ê¸°ë°˜ í˜„ì¬ ì¸í„°í˜ì´ìŠ¤

#### 2.1.1 ê°•ì 
- **ì§ê´€ì ì¸ ë ˆì´ì•„ì›ƒ**: ì™¼ìª½ ê²€ìƒ‰/ì™“ì¹˜ë¦¬ìŠ¤íŠ¸, ì¤‘ì•™ ì°¨íŠ¸, ì˜¤ë¥¸ìª½ í†µê³„ì˜ 3ë‹¨ êµ¬ì¡°
- **ë°˜ì‘í˜• ë””ìì¸**: ë‹¤ì–‘í•œ í™”ë©´ í¬ê¸°ì— ëŒ€ì‘í•˜ëŠ” ìœ ì—°í•œ ë ˆì´ì•„ì›ƒ
- **í’ë¶€í•œ ì°¨íŠ¸ ê¸°ëŠ¥**: ìº”ë“¤ìŠ¤í‹±, ë¼ì¸, ì˜ì—­ ì°¨íŠ¸ ë° ë‹¤ì–‘í•œ ê¸°ìˆ ì  ì§€í‘œ
- **ì‹¤ì‹œê°„ ë°ì´í„° ì‹œê°í™”**: Plotlyë¥¼ í†µí•œ ì¸í„°ë™í‹°ë¸Œ ì°¨íŠ¸ êµ¬í˜„

#### 2.1.2 ê°œì„  ê¸°íšŒ
1. **ë¡œë”© ìƒíƒœ í‘œì‹œ**: ë°ì´í„° ë¡œë”© ì‹œ ì‚¬ìš©ì í”¼ë“œë°± ë¶€ì¡±
2. **ì˜¤ë¥˜ ì²˜ë¦¬**: ì‚¬ìš©ì ì¹œí™”ì ì¸ ì˜¤ë¥˜ ë©”ì‹œì§€ ë° ë³µêµ¬ ë°©ì•ˆ ë¶€ì¡±
3. **í‚¤ë³´ë“œ ë‚´ë¹„ê²Œì´ì…˜**: ë§ˆìš°ìŠ¤ ì˜ì¡´ì ì¸ ì¸í„°í˜ì´ìŠ¤ë¡œ í‚¤ë³´ë“œ ì‚¬ìš©ì„± ì €í•˜
4. **ëª¨ë°”ì¼ ìµœì í™”**: ëª¨ë°”ì¼ í™˜ê²½ì—ì„œì˜ ì‚¬ìš©ì„± ì œí•œ
5. **ì ‘ê·¼ì„±**: ìŠ¤í¬ë¦° ë¦¬ë” ë° ë³´ì¡° ê¸°ìˆ  ì§€ì› ë¶€ì¡±

### 2.2 ì‚¬ìš©ì ìƒí˜¸ì‘ìš© ë¶„ì„

#### 2.2.1 í˜„ì¬ ìƒíƒœ
- **ê²€ìƒ‰ ê¸°ëŠ¥**: ê¸°ë³¸ì ì¸ ì£¼ì‹ ê²€ìƒ‰ ë° í•„í„°ë§
- **ì™“ì¹˜ë¦¬ìŠ¤íŠ¸ ê´€ë¦¬**: ì¶”ê°€/ì‚­ì œ ê¸°ë³¸ ê¸°ëŠ¥
- **ì°¨íŠ¸ ìƒí˜¸ì‘ìš©**: í™•ëŒ€/ì¶•ì†Œ, ì‹œê°„ í”„ë ˆì„ ì„ íƒ
- **ë°ì´í„° ë‚´ë³´ë‚´ê¸°**: CSV ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥

#### 2.2.2 ê°œì„  í•„ìš” ì˜ì—­
1. **ê²€ìƒ‰ ê²½í—˜**: ìë™ì™„ì„±, ê²€ìƒ‰ ê¸°ë¡, ì¶”ì²œ ê¸°ëŠ¥ ë¶€ì¡±
2. **ìƒíƒœ ê´€ë¦¬**: ì‚¬ìš©ì ì„¸ì…˜ ë° ìƒíƒœ ìœ ì§€ ê¸°ëŠ¥ ë¶€ì¡±
3. **ë‹¨ì¶•í‚¤**: ìì£¼ ì‚¬ìš©í•˜ëŠ” ê¸°ëŠ¥ì— ëŒ€í•œ ë‹¨ì¶•í‚¤ ë¶€ì¡±
4. **ë“œë˜ê·¸ì•¤ë“œë¡­**: ì§ê´€ì ì¸ ë°ì´í„° ì¡°ì‘ ê¸°ëŠ¥ ë¶€ì¡±
5. **ì»¨í…ìŠ¤íŠ¸ ë©”ë‰´**: ë§ˆìš°ìŠ¤ ì˜¤ë¥¸ìª½ í´ë¦­ ë©”ë‰´ ë¶€ì¡±

## 3. ì‚¬ìš©ì ê²½í—˜ ê°œì„  ë°©ì•ˆ

### 3.1 ë¡œë”© ìƒíƒœ ë° í”¼ë“œë°± ê°œì„ 

#### 3.1.1 ì§„í–‰ ìƒíƒœ í‘œì‹œ ì‹œìŠ¤í…œ
```python
class LoadingStateManager:
    def __init__(self):
        self.loading_states = {}
        self.progress_callbacks = {}
    
    def start_loading(self, component_id: str, message: str = "ë¡œë”© ì¤‘..."):
        """ë¡œë”© ìƒíƒœ ì‹œì‘"""
        self.loading_states[component_id] = {
            "message": message,
            "start_time": time.time(),
            "progress": 0,
            "stage": "initializing"
        }
        
        # ìŠ¤í”¼ë„ˆì™€ ë©”ì‹œì§€ í‘œì‹œ
        with st.spinner(f"{message} ({component_id})"):
            # ë¡œë”© ìƒíƒœ ì €ì¥
            self._save_loading_state(component_id)
    
    def update_progress(self, component_id: str, progress: int, stage: str = None):
        """ì§„í–‰ë¥  ì—…ë°ì´íŠ¸"""
        if component_id in self.loading_states:
            self.loading_states[component_id]["progress"] = progress
            if stage:
                self.loading_states[component_id]["stage"] = stage
            
            elapsed = time.time() - self.loading_states[component_id]["start_time"]
            
            # ì§„í–‰ë¥  ë°”ì™€ ìƒíƒœ ë©”ì‹œì§€ í‘œì‹œ
            st.progress(progress / 100)
            st.caption(f"{progress}% ì™„ë£Œ (ê²½ê³¼ ì‹œê°„: {elapsed:.1f}ì´ˆ)")
            
            if stage:
                st.info(f"í˜„ì¬ ë‹¨ê³„: {stage}")
    
    def finish_loading(self, component_id: str, success: bool = True, message: str = None):
        """ë¡œë”© ì™„ë£Œ"""
        if component_id in self.loading_states:
            elapsed = time.time() - self.loading_states[component_id]["start_time"]
            
            if success:
                st.success(f"âœ… {message or 'ì‘ì—… ì™„ë£Œ'} (ì†Œìš” ì‹œê°„: {elapsed:.1f}ì´ˆ)")
            else:
                st.error(f"âŒ {message or 'ì‘ì—… ì‹¤íŒ¨'} (ì†Œìš” ì‹œê°„: {elapsed:.1f}ì´ˆ)")
            
            # ë¡œë”© ìƒíƒœ ì •ë¦¬
            del self.loading_states[component_id]

# ì‚¬ìš© ì˜ˆì‹œ
loading_manager = LoadingStateManager()

def load_stock_data(symbol: str):
    loading_manager.start_loading("stock_data", f"{symbol} ì£¼ì‹ ë°ì´í„° ë¡œë”© ì¤‘...")
    
    try:
        # ë°ì´í„° ì¡°íšŒ (20%)
        loading_manager.update_progress("stock_data", 20, "ë°ì´í„°ë² ì´ìŠ¤ ì¡°íšŒ")
        stock_info = get_stock_info(symbol)
        
        # ê°ì„± ë¶„ì„ (50%)
        loading_manager.update_progress("stock_data", 50, "ê°ì„± ë¶„ì„ ì¤‘...")
        sentiment_data = get_sentiment_data(symbol)
        
        # ì°¨íŠ¸ ìƒì„± (80%)
        loading_manager.update_progress("stock_data", 80, "ì°¨íŠ¸ ìƒì„± ì¤‘...")
        chart_data = create_chart_data(stock_info, sentiment_data)
        
        # ì™„ë£Œ (100%)
        loading_manager.update_progress("stock_data", 100, "ìµœì¢… ë°ì´í„° í†µí•©")
        
        return {
            "stock_info": stock_info,
            "sentiment_data": sentiment_data,
            "chart_data": chart_data
        }
        
    except Exception as e:
        loading_manager.finish_loading("stock_data", False, f"ë°ì´í„° ë¡œë”© ì‹¤íŒ¨: {str(e)}")
        return None
```

#### 3.1.2 ìŠ¤ë§ˆíŠ¸ ë¡œë”© ì „ëµ
```python
class SmartLoadingStrategy:
    def __init__(self):
        self.loading_cache = {}
        self.priority_queue = []
    
    def preload_popular_data(self):
        """ì¸ê¸° ë°ì´í„° ì„ ë¡œë”©"""
        popular_symbols = ['AAPL', 'MSFT', 'GOOGL', 'TSLA', 'AMZN']
        
        # ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì¸ê¸° ë°ì´í„° ì„ ë¡œë”©
        for symbol in popular_symbols:
            if symbol not in self.loading_cache:
                self.priority_queue.append({
                    "symbol": symbol,
                    "priority": "high",
                    "callback": self._preload_stock_data
                })
        
        # ìš°ì„ ìˆœìœ„ë³„ ë°ì´í„° ë¡œë”©
        self._process_priority_queue()
    
    def _preload_stock_data(self, symbol: str):
        """ì£¼ì‹ ë°ì´í„° ì„ ë¡œë”©"""
        try:
            # ìºì‹œì— ë°ì´í„° ë¯¸ë¦¬ ë¡œë“œ
            stock_data = fetch_stock_data(symbol)
            self.loading_cache[symbol] = {
                "data": stock_data,
                "timestamp": time.time(),
                "ttl": 300  # 5ë¶„
            }
        except Exception as e:
            logger.error(f"Preload failed for {symbol}: {str(e)}")
    
    def get_cached_data(self, symbol: str) -> Optional[Dict[str, Any]]:
        """ì„ ë¡œë”©ëœ ë°ì´í„° ë°˜í™˜"""
        if symbol in self.loading_cache:
            cached_item = self.loading_cache[symbol]
            
            # TTL í™•ì¸
            if time.time() - cached_item["timestamp"] < cached_item["ttl"]:
                return cached_item["data"]
            else:
                # ë§Œë£Œëœ ë°ì´í„° ì‚­ì œ
                del self.loading_cache[symbol]
        
        return None
```

### 3.2 ì˜¤ë¥˜ ì²˜ë¦¬ ë° ë³µêµ¬ ì‹œìŠ¤í…œ

#### 3.2.1 ì‚¬ìš©ì ì¹œí™”ì  ì˜¤ë¥˜ ì²˜ë¦¬
```python
class UserFriendlyErrorHandler:
    def __init__(self):
        self.error_messages = {
            "network_error": {
                "title": "ë„¤íŠ¸ì›Œí¬ ì—°ê²° ì˜¤ë¥˜",
                "message": "ì„œë²„ì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì¸í„°ë„· ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”.",
                "actions": [
                    {"text": "ì¬ì‹œë„", "action": "retry"},
                    {"text": "ë„¤íŠ¸ì›Œí¬ ì„¤ì •", "action": "network_settings"}
                ]
            },
            "data_not_found": {
                "title": "ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ",
                "message": "ìš”ì²­í•œ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë‹¤ë¥¸ ì£¼ì‹ ì‹¬ë³¼ì„ ì‹œë„í•´ë³´ì„¸ìš”.",
                "actions": [
                    {"text": "ë‹¤ë¥¸ ì‹¬ë³¼ ê²€ìƒ‰", "action": "search"},
                    {"text": "ì¸ê¸° ì£¼ì‹ ë³´ê¸°", "action": "popular_stocks"}
                ]
            },
            "rate_limit": {
                "title": "ìš”ì²­ì´ ë„ˆë¬´ ë§ìŠµë‹ˆë‹¤",
                "message": "ë„ˆë¬´ ë§ì€ ìš”ì²­ì„ ë³´ë‚´ì…¨ìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.",
                "actions": [
                    {"text": "ì•Œë¦¼ ì„¤ì •", "action": "notification_settings"},
                    {"text": "ì‚¬ìš©ëŸ‰ í™•ì¸", "action": "usage_check"}
                ]
            },
            "server_error": {
                "title": "ì„œë²„ ì˜¤ë¥˜",
                "message": "ì„œë²„ì—ì„œ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.",
                "actions": [
                    {"text": "ë‹¤ì‹œ ì‹œë„", "action": "retry"},
                    {"text": "ë¬¸ì œ ë³´ê³ ", "action": "report_issue"}
                ]
            }
        }
    
    def handle_error(self, error_type: str, details: str = None, retry_callback=None):
        """ì‚¬ìš©ì ì¹œí™”ì  ì˜¤ë¥˜ ì²˜ë¦¬"""
        error_info = self.error_messages.get(error_type, {
            "title": "ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜",
            "message": "ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.",
            "actions": [{"text": "ë‹¤ì‹œ ì‹œë„", "action": "retry"}]
        })
        
        # ì˜¤ë¥˜ í‘œì‹œ
        st.error(f"ğŸš¨ {error_info['title']}")
        st.info(error_info["message"])
        
        if details:
            with st.expander("ìƒì„¸ ì •ë³´"):
                st.code(details)
        
        # ë³µêµ¬ ì‘ì—… ë²„íŠ¼
        col1, col2, col3 = st.columns(3)
        
        with col1:
            if st.button("ğŸ”„ ë‹¤ì‹œ ì‹œë„", key="retry_action"):
                if retry_callback:
                    retry_callback()
        
        with col2:
            if st.button("ğŸ” ë‹¤ë¥¸ ì‹¬ë³¼ ê²€ìƒ‰", key="search_action"):
                st.session_state.search_focus = True
        
        with col3:
            if st.button("ğŸ“ ë¬¸ì œ ë³´ê³ ", key="report_action"):
                st.session_state.show_issue_report = True
        
        # ì¶”ê°€ ì‘ì—… ë²„íŠ¼
        for i, action in enumerate(error_info["actions"]):
            if st.button(action["text"], key=f"error_action_{i}"):
                self._execute_error_action(action["action"])
    
    def _execute_error_action(self, action: str):
        """ì˜¤ë¥˜ ë³µêµ¬ ì‘ì—… ì‹¤í–‰"""
        if action == "retry":
            st.rerun()
        elif action == "search":
            st.session_state.search_focus = True
            st.rerun()
        elif action == "network_settings":
            st.session_state.show_network_settings = True
        elif action == "report_issue":
            st.session_state.show_issue_report = True
```

#### 3.2.2 ìë™ ë³µêµ¬ ì‹œìŠ¤í…œ
```python
class AutoRecoverySystem:
    def __init__(self):
        self.retry_attempts = {}
        self.max_retries = 3
        self.backoff_factor = 2
        self.initial_delay = 1
    
    async def execute_with_retry(self, operation, operation_id: str, *args, **kwargs):
        """ìë™ ì¬ì‹œë„ì™€ í•¨ê»˜ ì‘ì—… ì‹¤í–‰"""
        attempt = 0
        delay = self.initial_delay
        
        while attempt < self.max_retries:
            attempt += 1
            
            try:
                result = await operation(*args, **kwargs)
                
                # ì„±ê³µ ì‹œ ì¬ì‹œë„ íšŸìˆ˜ ì´ˆê¸°í™”
                if operation_id in self.retry_attempts:
                    del self.retry_attempts[operation_id]
                
                return result
                
            except Exception as e:
                self.retry_attempts[operation_id] = attempt
                
                if attempt < self.max_retries:
                    # ì§€ìˆ˜ ë°±ì˜¤í”„ë¡œ ëŒ€ê¸°
                    await asyncio.sleep(delay)
                    delay *= self.backoff_factor
                    
                    logger.warning(f"Attempt {attempt} failed for {operation_id}: {str(e)}. Retrying in {delay}s...")
                else:
                    # ìµœì¢… ì‹¤íŒ¨
                    logger.error(f"All attempts failed for {operation_id}: {str(e)}")
                    raise e
    
    def get_retry_status(self, operation_id: str) -> Dict[str, Any]:
        """ì¬ì‹œë„ ìƒíƒœ í™•ì¸"""
        if operation_id in self.retry_attempts:
            return {
                "attempts": self.retry_attempts[operation_id],
                "max_attempts": self.max_retries,
                "can_retry": self.retry_attempts[operation_id] < self.max_retries
            }
        return {"attempts": 0, "max_attempts": self.max_retries, "can_retry": True}
```

### 3.3 í‚¤ë³´ë“œ ë‚´ë¹„ê²Œì´ì…˜ ë° ì ‘ê·¼ì„± ê°•í™”

#### 3.3.1 í‚¤ë³´ë“œ ë‚´ë¹„ê²Œì´ì…˜ ì‹œìŠ¤í…œ
```python
class KeyboardNavigationManager:
    def __init__(self):
        self.shortcuts = {
            "Ctrl+K": "focus_search",
            "Ctrl+S": "save_to_watchlist",
            "Ctrl+R": "refresh_data",
            "F5": "refresh_data",
            "Escape": "clear_selection",
            "Arrow Up": "navigate_up",
            "Arrow Down": "navigate_down",
            "Arrow Left": "navigate_left",
            "Arrow Right": "navigate_right",
            "Enter": "select_item",
            "Tab": "next_focusable",
            "Shift+Tab": "prev_focusable"
        }
        
        self.focusable_elements = []
        self.current_focus_index = 0
    
    def add_keyboard_support(self):
        """í‚¤ë³´ë“œ ë‚´ë¹„ê²Œì´ì…˜ ì§€ì› ì¶”ê°€"""
        keyboard_js = """
        <script>
        document.addEventListener('keydown', function(e) {
            const shortcuts = {
                'ctrl+k': function() {
                    const searchInput = document.querySelector('[data-testid="stTextInput"]');
                    if (searchInput) searchInput.focus();
                },
                'escape': function() {
                    const activeElement = document.activeElement;
                    if (activeElement) activeElement.blur();
                },
                'arrowdown': function() {
                    const focusableElements = document.querySelectorAll('button, input, [tabindex]');
                    const currentIndex = Array.from(focusableElements).indexOf(document.activeElement);
                    const nextIndex = (currentIndex + 1) % focusableElements.length;
                    focusableElements[nextIndex].focus();
                },
                'arrowup': function() {
                    const focusableElements = document.querySelectorAll('button, input, [tabindex]');
                    const currentIndex = Array.from(focusableElements).indexOf(document.activeElement);
                    const prevIndex = currentIndex <= 0 ? focusableElements.length - 1 : currentIndex - 1;
                    focusableElements[prevIndex].focus();
                }
            };
            
            // ë‹¨ì¶•í‚¤ ì²˜ë¦¬
            if (e.ctrlKey && e.key === 'k') {
                e.preventDefault();
                shortcuts['ctrl+k']();
            } else if (e.key === 'Escape') {
                shortcuts['escape']();
            } else if (e.key === 'ArrowDown') {
                e.preventDefault();
                shortcuts['arrowdown']();
            } else if (e.key === 'ArrowUp') {
                e.preventDefault();
                shortcuts['arrowup']();
            }
        });
        </script>
        """
        
        st.markdown(keyboard_js, unsafe_allow_html=True)
    
    def add_focus_management(self):
        """í¬ì»¤ìŠ¤ ê´€ë¦¬ ì¶”ê°€"""
        focus_management_js = """
        <script>
        // í¬ì»¤ìŠ¤ ê°€ëŠ¥í•œ ìš”ì†Œì— tabindex ì¶”ê°€
        document.addEventListener('DOMContentLoaded', function() {
            const buttons = document.querySelectorAll('button');
            const inputs = document.querySelectorAll('input');
            
            buttons.forEach((button, index) => {
                button.setAttribute('tabindex', '0');
                button.setAttribute('data-focus-index', index);
            });
            
            inputs.forEach((input, index) => {
                input.setAttribute('tabindex', '0');
                input.setAttribute('data-focus-index', index + buttons.length);
            });
        });
        </script>
        """
        
        st.markdown(focus_management_js, unsafe_allow_html=True)
    
    def create_shortcuts_help(self):
        """ë‹¨ì¶•í‚¤ ë„ì›€ë§ ìƒì„±"""
        with st.expander("âŒ¨ï¸ í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤"):
            shortcuts_data = [
                {"í‚¤": "Ctrl+K", "ê¸°ëŠ¥": "ê²€ìƒ‰ì°½ í¬ì»¤ìŠ¤"},
                {"í‚¤": "Escape", "ê¸°ëŠ¥": "ì„ íƒ í•´ì œ"},
                {"í‚¤": "â†‘/â†“", "ê¸°ëŠ¥": "ìœ„/ì•„ë˜ ì´ë™"},
                {"í‚¤": "Enter", "ê¸°ëŠ¥": "í•­ëª© ì„ íƒ"},
                {"í‚¤": "Tab", "ê¸°ëŠ¥": "ë‹¤ìŒ ìš”ì†Œë¡œ ì´ë™"},
                {"í‚¤": "Shift+Tab", "ê¸°ëŠ¥": "ì´ì „ ìš”ì†Œë¡œ ì´ë™"}
            ]
            
            for shortcut in shortcuts_data:
                st.markdown(f"**{shortcut['í‚¤']}**: {shortcut['ê¸°ëŠ¥']}")
```

#### 3.3.2 ìŠ¤í¬ë¦° ë¦¬ë” ë° ë³´ì¡° ê¸°ìˆ  ì§€ì›
```python
class AccessibilityManager:
    def __init__(self):
        self.announcements = []
        self.current_focus_element = None
    
    def add_screen_reader_support(self):
        """ìŠ¤í¬ë¦° ë¦¬ë” ì§€ì› ì¶”ê°€"""
        screen_reader_js = """
        <script>
        // ARIA ë¼ì´ë¸Œ ë¦¬ì „ ì¶”ê°€
        function announceToScreenReader(message) {
            const announcement = document.createElement('div');
            announcement.setAttribute('role', 'status');
            announcement.setAttribute('aria-live', 'polite');
            announcement.className = 'sr-only';
            announcement.textContent = message;
            
            document.body.appendChild(announcement);
            
            // ì ì‹œ í›„ ì œê±°
            setTimeout(() => {
                document.body.removeChild(announcement);
            }, 1000);
        }
        
        // í˜ì´ì§€ ë¡œë”© ì™„ë£Œ ì•Œë¦¼
        window.addEventListener('load', function() {
            announceToScreenReader('í˜ì´ì§€ ë¡œë”©ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.');
        });
        
        // ë°ì´í„° ë³€ê²½ ì•Œë¦¼
        function announceDataChange(element, changeType) {
            const message = `${changeType}: ${element.textContent || element.value}`;
            announceToScreenReader(message);
        }
        
        // ì „ì—­ í•¨ìˆ˜ë¡œ ë…¸ì¶œ
        window.announceToScreenReader = announceToScreenReader;
        window.announceDataChange = announceDataChange;
        </script>
        
        <style>
        /* ìŠ¤í¬ë¦° ë¦¬ë” ì „ìš© ìŠ¤íƒ€ì¼ */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
        
        /* í¬ì»¤ìŠ¤ ì‹œê°ì  í‘œì‹œ */
        *:focus {
            outline: 2px solid #0066cc;
            outline-offset: 2px;
        }
        
        /* ê³ ëŒ€ëŒ€ë¹„ ëª¨ë“œ ì§€ì› */
        @media (prefers-contrast: high) {
            .stButton > button {
                border: 2px solid;
                background: white;
                color: black;
            }
        }
        
        /* ëª¨ì…˜ ê°ì†Œ ëª¨ë“œ ì§€ì› */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
        </style>
        """
        
        st.markdown(screen_reader_js, unsafe_allow_html=True)
    
    def announce_data_change(self, message: str):
        """ë°ì´í„° ë³€ê²½ ì•Œë¦¼"""
        announcement_js = f"""
        <script>
        window.announceToScreenReader('{message}');
        </script>
        """
        
        st.markdown(announcement_js, unsafe_allow_html=True)
    
    def add_accessibility_controls(self):
        """ì ‘ê·¼ì„± ì»¨íŠ¸ë¡¤ ì¶”ê°€"""
        with st.expander("â™¿ ì ‘ê·¼ì„± ì„¤ì •"):
            # ê¸€ì í¬ê¸° ì¡°ì ˆ
            font_size = st.selectbox(
                "ê¸€ì í¬ê¸°",
                ["ì‘ê²Œ", "ë³´í†µ", "í¬ê²Œ", "ë§¤ìš° í¬ê²Œ"],
                index=1
            )
            
            # ê³ ëŒ€ëŒ€ë¹„ ëª¨ë“œ
            high_contrast = st.checkbox("ê³ ëŒ€ëŒ€ë¹„ ëª¨ë“œ")
            
            # ëª¨ì…˜ ê°ì†Œ
            reduce_motion = st.checkbox("ëª¨ì…˜ ê°ì†Œ")
            
            # ìŠ¤í¬ë¦° ë¦¬ë” ìµœì í™”
            screen_reader_optimized = st.checkbox("ìŠ¤í¬ë¦° ë¦¬ë” ìµœì í™”")
            
            # ì„¤ì • ì €ì¥
            if st.button("ì ‘ê·¼ì„± ì„¤ì • ì €ì¥"):
                accessibility_settings = {
                    "font_size": font_size,
                    "high_contrast": high_contrast,
                    "reduce_motion": reduce_motion,
                    "screen_reader_optimized": screen_reader_optimized
                }
                
                # ì¿ í‚¤ë‚˜ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
                st.session_state.accessibility_settings = accessibility_settings
                
                st.success("ì ‘ê·¼ì„± ì„¤ì •ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.")
                
                # ì„¤ì • ì ìš©
                self._apply_accessibility_settings(accessibility_settings)
    
    def _apply_accessibility_settings(self, settings: Dict[str, Any]):
        """ì ‘ê·¼ì„± ì„¤ì • ì ìš©"""
        settings_js = f"""
        <script>
        // ê¸€ì í¬ê¸° ì ìš©
        document.documentElement.style.fontSize = '{settings['font_size']}';
        
        // ê³ ëŒ€ëŒ€ë¹„ ëª¨ë“œ ì ìš©
        if ({settings['high_contrast']}) {{
            document.body.classList.add('high-contrast');
        }}
        
        // ëª¨ì…˜ ê°ì†Œ ì ìš©
        if ({settings['reduce_motion']}) {{
            document.body.classList.add('reduce-motion');
        }}
        
        // ìŠ¤í¬ë¦° ë¦¬ë” ìµœì í™” ì ìš©
        if ({settings['screen_reader_optimized']}) {{
            document.body.classList.add('screen-reader-optimized');
        }}
        </script>
        """
        
        st.markdown(settings_js, unsafe_allow_html=True)
```

### 3.4 ëª¨ë°”ì¼ ìµœì í™” ë° ë°˜ì‘í˜• ë””ìì¸

#### 3.4.1 ëª¨ë°”ì¼ ìµœì í™” ì „ëµ
```python
class MobileOptimizationManager:
    def __init__(self):
        self.is_mobile = self._detect_mobile()
        self.touch_gestures = {}
    
    def _detect_mobile(self) -> bool:
        """ëª¨ë°”ì¼ ê¸°ê¸° ê°ì§€"""
        user_agent = st.experimental_get_query_params().get("user_agent", "")
        
        mobile_patterns = [
            "Android", "iPhone", "iPad", "iPod", "BlackBerry", 
            "Windows Phone", "Mobile", "webOS", "Opera Mini"
        ]
        
        return any(pattern in user_agent for pattern in mobile_patterns)
    
    def add_mobile_optimizations(self):
        """ëª¨ë°”ì¼ ìµœì í™” ì¶”ê°€"""
        if self.is_mobile:
            # ëª¨ë°”ì¼ ì „ìš© CSS
            mobile_css = """
            <style>
            /* ëª¨ë°”ì¼ ìµœì í™” ìŠ¤íƒ€ì¼ */
            @media (max-width: 768px) {
                .stSelectbox > div > div {
                    font-size: 16px !important; /* iOS í™•ëŒ€ ë°©ì§€ */
                }
                
                .stTextInput > div > input {
                    font-size: 16px !important;
                }
                
                .stButton > button {
                    min-height: 44px !important; /* ìµœì†Œ í„°ì¹˜ ì˜ì—­ */
                    font-size: 16px !important;
                }
                
                .stDataFrame {
                    font-size: 14px !important;
                }
                
                /* ëª¨ë°”ì¼ ì „ìš© ë ˆì´ì•„ì›ƒ ì¡°ì • */
                .element-container {
                    padding: 0.5rem !important;
                }
                
                /* ëª¨ë°”ì¼ì—ì„œ ìˆ¨ê¸¸ ìš”ì†Œ */
                .desktop-only {
                    display: none !important;
                }
                
                /* ëª¨ë°”ì¼ ì „ìš© ìš”ì†Œ */
                .mobile-only {
                    display: block !important;
                }
            }
            
            /* í„°ì¹˜ ì œìŠ¤ì²˜ ìµœì í™” */
            @media (hover: none) and (pointer: coarse) {
                .stButton > button:hover {
                    background-color: inherit !important;
                }
                
                .stButton > button:active {
                    background-color: #0066cc !important;
                }
            }
            </style>
            """
            
            st.markdown(mobile_css, unsafe_allow_html=True)
    
    def add_touch_gestures(self):
        """í„°ì¹˜ ì œìŠ¤ì²˜ ì§€ì› ì¶”ê°€"""
        touch_gestures_js = """
        <script>
        // í„°ì¹˜ ì œìŠ¤ì²˜ ê´€ë¦¬
        let touchStartX = 0;
        let touchStartY = 0;
        let touchEndX = 0;
        let touchEndY = 0;
        
        document.addEventListener('touchstart', function(e) {
            touchStartX = e.touches[0].clientX;
            touchStartY = e.touches[0].clientY;
        });
        
        document.addEventListener('touchend', function(e) {
            touchEndX = e.changedTouches[0].clientX;
            touchEndY = e.changedTouches[0].clientY;
            
            // ìŠ¤ì™€ì´í”„ ê°ì§€
            const deltaX = touchEndX - touchStartX;
            const deltaY = touchEndY - touchStartY;
            const minSwipeDistance = 50;
            
            if (Math.abs(deltaX) > minSwipeDistance) {
                // ìˆ˜í‰ ìŠ¤ì™€ì´í”„
                if (deltaX > 0) {
                    window.dispatchEvent(new CustomEvent('swiperight'));
                } else {
                    window.dispatchEvent(new CustomEvent('swipeleft'));
                }
            }
            
            if (Math.abs(deltaY) > minSwipeDistance) {
                // ìˆ˜ì§ ìŠ¤ì™€ì´í”„
                if (deltaY > 0) {
                    window.dispatchEvent(new CustomEvent('swipedown'));
                } else {
                    window.dispatchEvent(new CustomEvent('swipeup'));
                }
            }
        });
        
        // ìŠ¤ì™€ì´í”„ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
        document.addEventListener('swiperight', function() {
            // ì˜¤ë¥¸ìª½ ìŠ¤ì™€ì´í”„ ì²˜ë¦¬ (ë‹¤ìŒ ì°¨íŠ¸)
            console.log('Swipe right detected');
        });
        
        document.addEventListener('swipeleft', function() {
            // ì™¼ìª½ ìŠ¤ì™€ì´í”„ ì²˜ë¦¬ (ì´ì „ ì°¨íŠ¸)
            console.log('Swipe left detected');
        });
        
        document.addEventListener('swipeup', function() {
            // ìœ„ìª½ ìŠ¤ì™€ì´í”„ ì²˜ë¦¬ (í™•ëŒ€)
            console.log('Swipe up detected');
        });
        
        document.addEventListener('swipedown', function() {
            // ì•„ë˜ìª½ ìŠ¤ì™€ì´í”„ ì²˜ë¦¬ (ì¶•ì†Œ)
            console.log('Swipe down detected');
        });
        </script>
        """
        
        st.markdown(touch_gestures_js, unsafe_allow_html=True)
    
    def create_mobile_friendly_ui(self):
        """ëª¨ë°”ì¼ ì¹œí™”ì  UI ìƒì„±"""
        if self.is_mobile:
            # ëª¨ë°”ì¼ ì „ìš© ë„¤ë¹„ê²Œì´ì…˜
            with st.sidebar:
                st.markdown("### ğŸ“± ëª¨ë°”ì¼ ë©”ë‰´")
                
                # ë¹ ë¥¸ ì•¡ì…˜ ë²„íŠ¼
                col1, col2 = st.columns(2)
                
                with col1:
                    if st.button("ğŸ” ê²€ìƒ‰", use_container_width=True):
                        st.session_state.mobile_search_focus = True
                
                with col2:
                    if st.button("â­ ì¦ê²¨ì°¾ê¸°", use_container_width=True):
                        st.session_state.show_favorites = True
                
                # í„°ì¹˜ ì¹œí™”ì  íƒ­ ë‚´ë¹„ê²Œì´ì…˜
                mobile_tabs = st.tabs(["ì°¨íŠ¸", "ë‰´ìŠ¤", "ì™“ì¹˜ë¦¬ìŠ¤íŠ¸"])
                
                with mobile_tabs[0]:
                    st.markdown("### ğŸ“ˆ ì°¨íŠ¸")
                    # ëª¨ë°”ì¼ ìµœì í™” ì°¨íŠ¸
                    self._create_mobile_chart()
                
                with mobile_tabs[1]:
                    st.markdown("### ğŸ“° ë‰´ìŠ¤")
                    # ëª¨ë°”ì¼ ìµœì í™” ë‰´ìŠ¤
                    self._create_mobile_news()
                
                with mobile_tabs[2]:
                    st.markdown("### â­ ì™“ì¹˜ë¦¬ìŠ¤íŠ¸")
                    # ëª¨ë°”ì¼ ìµœì í™” ì™“ì¹˜ë¦¬ìŠ¤íŠ¸
                    self._create_mobile_watchlist()
    
    def _create_mobile_chart(self):
        """ëª¨ë°”ì¼ ìµœì í™” ì°¨íŠ¸ ìƒì„±"""
        # ë” ì‘ì€ ì°¨íŠ¸ í¬ê¸°
        chart_height = 300
        
        # í„°ì¹˜ ì œìŠ¤ì²˜ ì§€ì›
        chart_config = {
            "displayModeBar": False,
            "scrollZoom": True,
            "displayModeBar": False,
            "responsive": True
        }
        
        # ëª¨ë°”ì¼ ìµœì í™” ì°¨íŠ¸ ìƒì„±
        fig = self._create_optimized_chart(chart_height, chart_config)
        st.plotly_chart(fig, config=chart_config, use_container_width=True)
    
    def _create_mobile_news(self):
        """ëª¨ë°”ì¼ ìµœì í™” ë‰´ìŠ¤ ìƒì„±"""
        # ë” í° í…ìŠ¤íŠ¸ì™€ í„°ì¹˜ ì¹œí™”ì  ì¹´ë“œ
        news_items = self._get_mobile_news()
        
        for item in news_items:
            with st.container():
                st.markdown(f"### {item['title']}")
                st.markdown(f"**{item['summary']}**")
                st.markdown(f"*{item['time']}*")
                
                # í„°ì¹˜ ì¹œí™”ì  ë²„íŠ¼
                col1, col2 = st.columns(2)
                
                with col1:
                    if st.button("ğŸ“– ìì„¸íˆ", key=f"read_{item['id']}"):
                        st.session_state.selected_news = item
                
                with col2:
                    if st.button("ğŸ”— ê³µìœ ", key=f"share_{item['id']}"):
                        st.session_state.share_news = item
    
    def _create_mobile_watchlist(self):
        """ëª¨ë°”ì¼ ìµœì í™” ì™“ì¹˜ë¦¬ìŠ¤íŠ¸ ìƒì„±"""
        # ìŠ¤ì™€ì´í”„ ê°€ëŠ¥í•œ ëª©ë¡
        watchlist = self._get_watchlist()
        
        for i, stock in enumerate(watchlist):
            # ìŠ¤ì™€ì´í”„ ê°€ëŠ¥í•œ ì¹´ë“œ
            with st.container():
                cols = st.columns([3, 1])
                
                with cols[0]:
                    st.markdown(f"**{stock['symbol']}**")
                    st.markdown(f"{stock['name']}")
                    st.markdown(f"${stock['price']:.2f}")
                
                with cols[1]:
                    # ìŠ¤ì™€ì´í”„ ì•¡ì…˜ ë²„íŠ¼
                    if st.button("ğŸ—‘ï¸", key=f"remove_{i}"):
                        self._remove_from_watchlist(stock['symbol'])
```

### 3.5 ê²€ìƒ‰ ê²½í—˜ ê°œì„ 

#### 3.5.1 ìŠ¤ë§ˆíŠ¸ ê²€ìƒ‰ ì‹œìŠ¤í…œ
```python
class SmartSearchManager:
    def __init__(self):
        self.search_history = []
        self.popular_searches = []
        self.search_suggestions = {}
        self.search_analytics = {}
    
    def add_autocomplete_search(self):
        """ìë™ì™„ì„± ê²€ìƒ‰ ì¶”ê°€"""
        # ê²€ìƒ‰ ì…ë ¥ì°½
        search_query = st.text_input(
            "ğŸ” ì£¼ì‹ ê²€ìƒ‰",
            placeholder="ì‹¬ë³¼, íšŒì‚¬ëª…, ì„¹í„°ë¡œ ê²€ìƒ‰...",
            key="smart_search",
            help="ìë™ì™„ì„±ì„ ìœ„í•´ ì…ë ¥í•˜ì„¸ìš”"
        )
        
        if search_query:
            # ê²€ìƒ‰ ì œì•ˆ ìƒì„±
            suggestions = self._generate_search_suggestions(search_query)
            
            if suggestions:
                # ê²€ìƒ‰ ì œì•ˆ í‘œì‹œ
                for suggestion in suggestions:
                    if st.button(
                        f"ğŸ” {suggestion['symbol']} - {suggestion['name']}",
                        key=f"suggestion_{suggestion['symbol']}"
                    ):
                        st.session_state.selected_stock = suggestion['symbol']
                        st.rerun()
    
    def _generate_search_suggestions(self, query: str) -> List[Dict[str, Any]]:
        """ê²€ìƒ‰ ì œì•ˆ ìƒì„±"""
        suggestions = []
        
        # ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” ì‹¬ë³¼
        exact_matches = self._search_exact_symbols(query)
        suggestions.extend(exact_matches)
        
        # ë¶€ë¶„ ì¼ì¹˜í•˜ëŠ” ì‹¬ë³¼
        partial_matches = self._search_partial_symbols(query)
        suggestions.extend(partial_matches)
        
        # íšŒì‚¬ëª… ê²€ìƒ‰
        company_matches = self._search_company_names(query)
        suggestions.extend(company_matches)
        
        # ì¸ê¸° ê²€ìƒ‰ì–´ ì¶”ì²œ
        popular_matches = self._get_popular_searches(query)
        suggestions.extend(popular_matches)
        
        # ì¤‘ë³µ ì œê±° ë° ì •ë ¬
        unique_suggestions = []
        seen_symbols = set()
        
        for suggestion in suggestions:
            if suggestion['symbol'] not in seen_symbols:
                unique_suggestions.append(suggestion)
                seen_symbols.add(suggestion['symbol'])
        
        return unique_suggestions[:10]  # ìµœëŒ€ 10ê°œ ì œì•ˆ
    
    def add_search_history(self, query: str, results: List[Dict[str, Any]]):
        """ê²€ìƒ‰ ê¸°ë¡ ì¶”ê°€"""
        search_entry = {
            "query": query,
            "timestamp": datetime.utcnow().isoformat(),
            "result_count": len(results),
            "results": [r['symbol'] for r in results[:5]]  # ìƒìœ„ 5ê°œ ê²°ê³¼ë§Œ ì €ì¥
        }
        
        # ê²€ìƒ‰ ê¸°ë¡ì— ì¶”ê°€
        self.search_history.append(search_entry)
        
        # ìµœëŒ€ 100ê°œ ê¸°ë¡ ìœ ì§€
        if len(self.search_history) > 100:
            self.search_history = self.search_history[-100:]
        
        # ê²€ìƒ‰ ë¶„ì„ ì—…ë°ì´íŠ¸
        self._update_search_analytics(query, len(results))
    
    def show_search_history(self):
        """ê²€ìƒ‰ ê¸°ë¡ í‘œì‹œ"""
        if st.button("ğŸ•’ ê²€ìƒ‰ ê¸°ë¡"):
            with st.expander("ìµœê·¼ ê²€ìƒ‰ ê¸°ë¡"):
                for entry in reversed(self.search_history[-10:]):  # ìµœê·¼ 10ê°œ
                    cols = st.columns([3, 1])
                    
                    with cols[0]:
                        st.markdown(f"**{entry['query']}**")
                        st.markdown(f"*{entry['timestamp']}*")
                        st.markdown(f"{entry['result_count']}ê°œ ê²°ê³¼")
                    
                    with cols[1]:
                        if st.button("ğŸ” ì¬ê²€ìƒ‰", key=f"history_{entry['query']}"):
                            st.session_state.search_query = entry['query']
                            st.rerun()
    
    def add_trending_searches(self):
        """ì¸ê¸° ê²€ìƒ‰ì–´ ì¶”ê°€"""
        trending_searches = self._get_trending_searches()
        
        if trending_searches:
            st.markdown("### ğŸ”¥ ì¸ê¸° ê²€ìƒ‰")
            
            # íŠ¸ë Œë”© ê²€ìƒ‰ì–´ íƒœê·¸
            cols = st.columns(4)
            
            for i, search_term in enumerate(trending_searches[:8]):
                with cols[i % 4]:
                    if st.button(
                        f"ğŸ”¥ {search_term}",
                        key=f"trending_{i}"
                    ):
                        st.session_state.search_query = search_term
                        st.rerun()
    
    def _update_search_analytics(self, query: str, result_count: int):
        """ê²€ìƒ‰ ë¶„ì„ ì—…ë°ì´íŠ¸"""
        if query not in self.search_analytics:
            self.search_analytics[query] = {
                "search_count": 0,
                "total_results": 0,
                "first_searched": datetime.utcnow().isoformat()
            }
        
        self.search_analytics[query]["search_count"] += 1
        self.search_analytics[query]["total_results"] += result_count
```

## 4. ì„±ëŠ¥ ìµœì í™”ë¥¼ í†µí•œ UX í–¥ìƒ

### 4.1 ì§€ì—° ë¡œë”© ë° ê°€ìƒí™”
```python
class LazyLoadingManager:
    def __init__(self):
        self.loaded_components = {}
        self.loading_queue = []
    
    def add_lazy_loading(self, component_id: str, loader_func):
        """ì§€ì—° ë¡œë”© ì»´í¬ë„ŒíŠ¸ ì¶”ê°€"""
        if component_id not in self.loaded_components:
            # ë¡œë”© í”Œë ˆì´ìŠ¤í™€ë” í‘œì‹œ
            st.markdown(f"""
            <div id="{component_id}_placeholder" class="lazy-placeholder">
                <div class="loading-spinner"></div>
                <p>ë¡œë”© ì¤‘...</p>
            </div>
            """, unsafe_allow_html=True)
            
            # JavaScriptë¡œ ì§€ì—° ë¡œë”© êµ¬í˜„
            lazy_loading_js = f"""
            <script>
            document.addEventListener('DOMContentLoaded', function() {{
                const placeholder = document.getElementById('{component_id}_placeholder');
                
                // ë·°í¬íŠ¸ì— ì»´í¬ë„ŒíŠ¸ê°€ ë³´ì¼ ë•Œ ë¡œë”©
                const observer = new IntersectionObserver(function(entries) {{
                    entries.forEach(function(entry) {{
                        if (entry.isIntersecting) {{
                            // ì»´í¬ë„ŒíŠ¸ ë¡œë”©
                            loadComponent('{component_id}');
                            observer.unobserve(placeholder);
                        }}
                    }});
                }});
                
                observer.observe(placeholder);
            }});
            
            function loadComponent(componentId) {{
                // ì‹¤ì œ ì»´í¬ë„ŒíŠ¸ ë¡œë”©
                fetch(`/api/components/${{component_id}}`)
                    .then(response => response.text())
                    .then(html => {{
                        const placeholder = document.getElementById(componentId + '_placeholder');
                        placeholder.innerHTML = html;
                    }})
                    .catch(error => {{
                        console.error('Error loading component:', error);
                    }});
            }}
            </script>
            """
            
            st.markdown(lazy_loading_js, unsafe_allow_html=True)
    
    def add_virtual_scrolling(self, data_source: str, item_height: int = 50):
        """ê°€ìƒ ìŠ¤í¬ë¡¤ë§ ì¶”ê°€"""
        virtual_scrolling_js = f"""
        <script>
        class VirtualScroll {{
            constructor(container, dataSource, itemHeight) {{
                this.container = container;
                this.dataSource = dataSource;
                this.itemHeight = itemHeight;
                this.visibleItems = [];
                this.startIndex = 0;
                this.endIndex = 0;
                
                this.init();
            }}
            
            init() {{
                this.container.addEventListener('scroll', this.handleScroll.bind(this));
                this.updateVisibleItems();
            }}
            
            handleScroll() {{
                const scrollTop = this.container.scrollTop;
                const containerHeight = this.container.clientHeight;
                
                this.startIndex = Math.floor(scrollTop / this.itemHeight);
                this.endIndex = Math.min(
                    this.startIndex + Math.ceil(containerHeight / this.itemHeight),
                    this.dataSource.length
                );
                
                this.updateVisibleItems();
            }}
            
            updateVisibleItems() {{
                const fragment = document.createDocumentFragment();
                
                for (let i = this.startIndex; i < this.endIndex; i++) {{
                    const item = this.dataSource[i];
                    const itemElement = this.createItemElement(item, i);
                    fragment.appendChild(itemElement);
                }}
                
                this.container.innerHTML = '';
                this.container.appendChild(fragment);
                
                // ì»¨í…Œì´ë„ˆ ë†’ì´ ì¡°ì •
                this.container.style.height = (this.dataSource.length * this.itemHeight) + 'px';
            }}
            
            createItemElement(item, index) {{
                const div = document.createElement('div');
                div.className = 'virtual-item';
                div.style.height = this.itemHeight + 'px';
                div.style.position = 'absolute';
                div.style.top = (index * this.itemHeight) + 'px';
                div.style.width = '100%';
                div.textContent = item.name || item.symbol;
                
                return div;
            }}
        }}
        
        // ê°€ìƒ ìŠ¤í¬ë¡¤ë§ ì´ˆê¸°í™”
        const container = document.getElementById('virtual-scroll-container');
        const dataSource = {data_source};
        new VirtualScroll(container, dataSource, 50);
        </script>
        
        <style>
        .virtual-scroll-container {{
            height: 400px;
            overflow-y: auto;
            position: relative;
            border: 1px solid #ddd;
        }}
        
        .virtual-item {{
            box-sizing: border-box;
            border-bottom: 1px solid #eee;
            padding: 10px;
        }}
        </style>
        """
        
        st.markdown(virtual_scrolling_js, unsafe_allow_html=True)
```

## 5. ê²°ë¡  ë° ìš°ì„ ìˆœìœ„

### 5.1 ì¦‰ì‹œ ì‹¤í–‰ í•„ìš” (1-2ì£¼ ë‚´)
1. **ë¡œë”© ìƒíƒœ í‘œì‹œ ê°œì„ **
   - ì§„í–‰ë¥  í‘œì‹œ ë° ìƒíƒœ ë©”ì‹œì§€
   - ìŠ¤ë§ˆíŠ¸ ë¡œë”© ì „ëµ êµ¬í˜„
   - ë¡œë”© ì‹¤íŒ¨ ì‹œ ë³µêµ¬ ë°©ì•ˆ ì œê³µ

2. **ì˜¤ë¥˜ ì²˜ë¦¬ ê°•í™”**
   - ì‚¬ìš©ì ì¹œí™”ì  ì˜¤ë¥˜ ë©”ì‹œì§€
   - ìë™ ì¬ì‹œë„ ì‹œìŠ¤í…œ
   - êµ¬ì²´ì ì¸ ë³µêµ¬ ì‘ì—… ì œê³µ

3. **í‚¤ë³´ë“œ ë‚´ë¹„ê²Œì´ì…˜**
   - ë‹¨ì¶•í‚¤ ì‹œìŠ¤í…œ êµ¬í˜„
   - í¬ì»¤ìŠ¤ ê´€ë¦¬ ê°œì„ 
   - ë‹¨ì¶•í‚¤ ë„ì›€ë§ ì œê³µ

### 5.2 ë‹¨ê¸° ì‹¤í–‰ (2-4ì£¼ ë‚´)
1. **ì ‘ê·¼ì„± ê°•í™”**
   - ìŠ¤í¬ë¦° ë¦¬ë” ì§€ì›
   - ê³ ëŒ€ëŒ€ë¹„ ëª¨ë“œ
   - ëª¨ì…˜ ê°ì†Œ ì˜µì…˜
   - ì ‘ê·¼ì„± ì„¤ì • ì €ì¥

2. **ëª¨ë°”ì¼ ìµœì í™”**
   - í„°ì¹˜ ì œìŠ¤ì²˜ ì§€ì›
   - ëª¨ë°”ì¼ ì „ìš© UI
   - ë°˜ì‘í˜• ë””ìì¸ ê°œì„ 
   - ëª¨ë°”ì¼ ì„±ëŠ¥ ìµœì í™”

3. **ê²€ìƒ‰ ê²½í—˜ ê°œì„ **
   - ìë™ì™„ì„± ê¸°ëŠ¥
   - ê²€ìƒ‰ ê¸°ë¡ ê´€ë¦¬
   - ì¸ê¸° ê²€ìƒ‰ì–´ ì¶”ì²œ
   - ê²€ìƒ‰ ë¶„ì„ ì‹œìŠ¤í…œ

### 5.3 ì¤‘ì¥ê¸° ì‹¤í–‰ (1-2ê°œì›” ë‚´)
1. **ê³ ê¸‰ ìƒí˜¸ì‘ìš©**
   - ë“œë˜ê·¸ì•¤ë“œë¡­ ê¸°ëŠ¥
   - ì»¨í…ìŠ¤íŠ¸ ë©”ë‰´
   - ì œìŠ¤ì²˜ ê¸°ë°˜ ìƒí˜¸ì‘ìš©
   - ë©€í‹°í„°ì¹˜ ì§€ì›

2. **ê°œì¸í™” ê¸°ëŠ¥**
   - ì‚¬ìš©ì ì„ í˜¸ë„ ì €ì¥
   - ëŒ€ì‹œë³´ë“œ ì»¤ìŠ¤í„°ë§ˆì´ì§•
   - ë ˆì´ì•„ì›ƒ ê°œì¸í™”
   - ì•Œë¦¼ ì„¤ì • ê°œì¸í™”

3. **ì„±ëŠ¥ ìµœì í™”**
   - ì§€ì—° ë¡œë”© êµ¬í˜„
   - ê°€ìƒ ìŠ¤í¬ë¡¤ë§
   - ì»´í¬ë„ŒíŠ¸ ìˆ˜ì¤€ ìºì‹±
   - ë Œë”ë§ ì„±ëŠ¥ ìµœì í™”

ì´ëŸ¬í•œ ì‚¬ìš©ì ê²½í—˜ ê°œì„  ë°©ì•ˆë“¤ì„ ë‹¨ê³„ì ìœ¼ë¡œ êµ¬í˜„í•¨ìœ¼ë¡œì¨, InsiteChartëŠ” **ë” ì§ê´€ì ì´ê³  ì ‘ê·¼ì„±ì´ ë›°ì–´ë‚˜ë©°, ëª¨ë°”ì¼ í™˜ê²½ì—ì„œë„ íƒì›”í•œ ì‚¬ìš©ì ê²½í—˜**ì„ ì œê³µí•  ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.